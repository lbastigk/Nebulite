{
    "version": "2.0.0",
    "tasks": [
        // BUILD FOR LINUX, USING CMAKE
        {
            "label": "[STANDARD] Automated Build and Test for Linux",
            "type": "shell",
            "command": "ulimit -n 1024 && cmake ./ && make && cd ./Application && ./validate_json.sh ; ./CrashDebug.sh ; echo 'Error log:' ; cat ./errors.log ; cd ..",
            "group": {
                "kind": "build",
                "isDefault": false
            },
            "problemMatcher": [],
            "detail": "Build the project by running 'make' and 'cmake' in the appropriate directories. With JSON validation and current Crash Debug"
        },  
        {
            "label": "Full Build for Linux + Profiling",
            "type": "shell",
            "command": "sudo sysctl -w kernel.perf_event_paranoid=-1 && sudo sysctl -w kernel.kptr_restrict=0 && cmake ./ && make && cd ./Application && timeout 20s perf record -a -g -- ./Tests.sh ; perf report",
            "group": {
                "kind": "build",
                "isDefault": false
            },
            "problemMatcher": [],
            "detail": "Build the project and run Tests.sh under perf to profile performance."
        },           
        // BUILD ON WINDOWS, USING CMAKE
        {
            "label": "Full Build for Windows",
            "type": "shell",
            "command": "cmake -DCMAKE_TOOLCHAIN_FILE=mingw-toolchain.cmake -B ./Application/bin -S . && cmake --build ./Application/bin",
            "group": {
                "kind": "build",
                "isDefault": false
            },
            "problemMatcher": [],
            "detail": "Build the project by running 'cmake' and 'make' in the appropriate directories"
        },
        // BUILD EXAMPLE QT5 MAIN
        {
            "label": "Example QT5 app",
            "type": "shell",
            "command": "cd ./ProjectEditor/ExampleBuild/ && ./build.sh",
            "group": {
                "kind": "build",
                "isDefault": false
            },
            "problemMatcher": [],
            "detail": "Builds the _ExampleMain"
        },
    ]
}
