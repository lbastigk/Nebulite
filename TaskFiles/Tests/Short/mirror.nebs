###############################
# Setup a scene
# Two Suns attracting each other, with mirrors enabled to see if the mirror works
set-fps 100
set physics.G 10 # Gravity constant, high value for testing
time set-fixed-dt 1
spawn Planets/sun.jsonc|set posX 750|set posY 500|set text.str SUN1
spawn Planets/sun.jsonc|set posX 250|set posY 500|set text.str SUN2

###############################
# Setup mirror
selected-object get 1
selected-object parse mirror on
selected-object get 2
selected-object parse mirror on
wait 1

###############################
# Render some frames, then check mirrors
# Mirrors should be equal, besides:
# - x-value is different
# - velocity is opposite in x-direction
# - acceleration is opposite in x-direction
wait 10
eval echo SUN1:  p({global.providedScope.domainModule.renderObject.mirror.renderObject.id1.posX},{global.providedScope.domainModule.renderObject.mirror.renderObject.id1.posY})
eval echo SUN1:  v({global.providedScope.domainModule.renderObject.mirror.renderObject.id1.physics.vX},{global.providedScope.domainModule.renderObject.mirror.renderObject.id1.physics.vY})
eval echo SUN1:  a({global.providedScope.domainModule.renderObject.mirror.renderObject.id1.physics.aX},{global.providedScope.domainModule.renderObject.mirror.renderObject.id1.physics.aY})
eval echo SUN1:  mass {global.providedScope.domainModule.renderObject.mirror.renderObject.id1.physics.mass}
eval echo SUN2:  p({global.providedScope.domainModule.renderObject.mirror.renderObject.id2.posX},{global.providedScope.domainModule.renderObject.mirror.renderObject.id2.posY})
eval echo SUN2:  v({global.providedScope.domainModule.renderObject.mirror.renderObject.id2.physics.vX},{global.providedScope.domainModule.renderObject.mirror.renderObject.id2.physics.vY})
eval echo SUN2:  a({global.providedScope.domainModule.renderObject.mirror.renderObject.id2.physics.aX},{global.providedScope.domainModule.renderObject.mirror.renderObject.id2.physics.aY})
eval echo SUN2:  mass {global.providedScope.domainModule.renderObject.mirror.renderObject.id2.physics.mass}
exit