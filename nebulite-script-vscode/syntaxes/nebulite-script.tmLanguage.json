{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "Nebulite Script",
  "scopeName": "source.nebs",
  "patterns": [
    { "include": "#comment" },
    { "include": "#keyword" },
    { "include": "#link" },
    { "include": "#evaluation" },
    { "include": "#expression" },
    { "include": "#number" },
    { "include": "#string" }
  ],
  "repository": {
    "comment": {
      "patterns": [
        {
          "name": "comment.line.number-sign.nebs",
          "match": "#.*$"
        }
      ]
    },
    "keyword": {
        "patterns": []
    },
    "link": {
      "patterns": [
        {
          "name": "markup.underline.link.nebs",
          "match": "\\./[^\\s|\n]*"
        }
      ]
    },
    "evaluation": {
      "patterns": [
        {
          "name": "meta.evaluation.nebs",
          "begin": "\\$[a-zA-Z]*\\(",
          "beginCaptures": {
            "0": { "name": "entity.name.function.evaluation.nebs" }
          },
          "end": "\\)",
          "patterns": [
            { "include": "#expression" },
            { "include": "#number" },
            { "include": "#string" }
          ]
        }
      ]
    },
    "expression": {
      "patterns": [
        {
          "name": "variable.other.nebs",
          "match": "\\{[a-zA-Z0-9_.\\-:]+\\}"
        }
      ]
    },
    "number": {
      "patterns": [
        {
          "name": "constant.numeric.nebs",
          "match": "\\b\\d+(?:\\.\\d+)?\\b"
        }
      ]
    },
    "string": {
      "patterns": [
        {
          "name": "string.quoted.double.nebs",
          "begin": "\"",
          "end": "\""
        },
        {
          "name": "string.quoted.single.nebs",
          "begin": "'",
          "end": "'"
        }
      ]
    }
  }
}
